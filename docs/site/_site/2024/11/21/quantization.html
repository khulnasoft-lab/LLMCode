

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  
.site-nav ul li a {
  background-image: none;
}

  </style>

  

  
    <script src="/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Details matter with open source models | llmcode</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Details matter with open source models" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Open source LLMs are becoming very powerful, but pay attention to how you (or your provider) are serving the model. It can affect code editing skill." />
<meta property="og:description" content="Open source LLMs are becoming very powerful, but pay attention to how you (or your provider) are serving the model. It can affect code editing skill." />
<link rel="canonical" href="http://0.0.0.0:4000/2024/11/21/quantization.html" />
<meta property="og:url" content="http://0.0.0.0:4000/2024/11/21/quantization.html" />
<meta property="og:site_name" content="llmcode" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-21T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Details matter with open source models" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-21T00:00:00+00:00","datePublished":"2024-11-21T00:00:00+00:00","description":"Open source LLMs are becoming very powerful, but pay attention to how you (or your provider) are serving the model. It can affect code editing skill.","headline":"Details matter with open source models","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/2024/11/21/quantization.html"},"url":"http://0.0.0.0:4000/2024/11/21/quantization.html"}</script>
<!-- End Jekyll SEO tag -->


  
<meta property="og:image" content="http://0.0.0.0:4000/assets/quantization.jpg">
<meta property="twitter:image" content="http://0.0.0.0:4000/assets/quantization.jpg">

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="http://0.0.0.0:4000/feed.xml">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#157878">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
<link rel="manifest" href="/assets/icons/site.webmanifest">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">




</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/" class="site-title lh-tight">
  llmcode

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Installation category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/install.html" class="nav-list-link">Installation</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/install/optional.html" class="nav-list-link">Optional steps</a></li><li class="nav-list-item"><a href="/docs/install/docker.html" class="nav-list-link">Llmcode with docker</a></li><li class="nav-list-item"><a href="/docs/install/codespaces.html" class="nav-list-link">GitHub Codespaces</a></li><li class="nav-list-item"><a href="/docs/install/replit.html" class="nav-list-link">Replit</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Usage category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/usage.html" class="nav-list-link">Usage</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/usage/tips.html" class="nav-list-link">Tips</a></li><li class="nav-list-item"><a href="/docs/usage/commands.html" class="nav-list-link">In-chat commands</a></li><li class="nav-list-item"><a href="/docs/usage/modes.html" class="nav-list-link">Chat modes</a></li><li class="nav-list-item"><a href="/docs/usage/tutorials.html" class="nav-list-link">Tutorial videos</a></li><li class="nav-list-item"><a href="/docs/usage/voice.html" class="nav-list-link">Voice-to-code with llmcode</a></li><li class="nav-list-item"><a href="/docs/usage/images-urls.html" class="nav-list-link">Images &amp; web pages</a></li><li class="nav-list-item"><a href="/docs/usage/caching.html" class="nav-list-link">Prompt caching</a></li><li class="nav-list-item"><a href="/docs/usage/watch.html" class="nav-list-link">Llmcode in your IDE</a></li><li class="nav-list-item"><a href="/docs/usage/browser.html" class="nav-list-link">Llmcode in your browser</a></li><li class="nav-list-item"><a href="/docs/usage/conventions.html" class="nav-list-link">Specifying coding conventions</a></li><li class="nav-list-item"><a href="/docs/usage/copypaste.html" class="nav-list-link">Copy/paste with web chat</a></li><li class="nav-list-item"><a href="/docs/usage/lint-test.html" class="nav-list-link">Linting and testing</a></li><li class="nav-list-item"><a href="/docs/usage/not-code.html" class="nav-list-link">Editing config &amp; text files</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Connecting to LLMs category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/llms.html" class="nav-list-link">Connecting to LLMs</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/llms/openai.html" class="nav-list-link">OpenAI</a></li><li class="nav-list-item"><a href="/docs/llms/anthropic.html" class="nav-list-link">Anthropic</a></li><li class="nav-list-item"><a href="/docs/llms/gemini.html" class="nav-list-link">Gemini</a></li><li class="nav-list-item"><a href="/docs/llms/groq.html" class="nav-list-link">GROQ</a></li><li class="nav-list-item"><a href="/docs/llms/lm-studio.html" class="nav-list-link">LM Studio</a></li><li class="nav-list-item"><a href="/docs/llms/xai.html" class="nav-list-link">xAI</a></li><li class="nav-list-item"><a href="/docs/llms/azure.html" class="nav-list-link">Azure</a></li><li class="nav-list-item"><a href="/docs/llms/cohere.html" class="nav-list-link">Cohere</a></li><li class="nav-list-item"><a href="/docs/llms/deepseek.html" class="nav-list-link">DeepSeek</a></li><li class="nav-list-item"><a href="/docs/llms/ollama.html" class="nav-list-link">Ollama</a></li><li class="nav-list-item"><a href="/docs/llms/openai-compat.html" class="nav-list-link">OpenAI compatible APIs</a></li><li class="nav-list-item"><a href="/docs/llms/openrouter.html" class="nav-list-link">OpenRouter</a></li><li class="nav-list-item"><a href="/docs/llms/vertex.html" class="nav-list-link">Vertex AI</a></li><li class="nav-list-item"><a href="/docs/llms/bedrock.html" class="nav-list-link">Amazon Bedrock</a></li><li class="nav-list-item"><a href="/docs/llms/other.html" class="nav-list-link">Other LLMs</a></li><li class="nav-list-item"><a href="/docs/llms/warnings.html" class="nav-list-link">Model warnings</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Configuration category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/config.html" class="nav-list-link">Configuration</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/config/api-keys.html" class="nav-list-link">API Keys</a></li><li class="nav-list-item"><a href="/docs/config/options.html" class="nav-list-link">Options reference</a></li><li class="nav-list-item"><a href="/docs/config/llmcode_conf.html" class="nav-list-link">YAML config file</a></li><li class="nav-list-item"><a href="/docs/config/dotenv.html" class="nav-list-link">Config with .env</a></li><li class="nav-list-item"><a href="/docs/config/editor.html" class="nav-list-link">Editor configuration</a></li><li class="nav-list-item"><a href="/docs/config/reasoning.html" class="nav-list-link">Reasoning models</a></li><li class="nav-list-item"><a href="/docs/config/adv-model-settings.html" class="nav-list-link">Advanced model settings</a></li><li class="nav-list-item"><a href="/docs/config/model-aliases.html" class="nav-list-link">Model Aliases</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Troubleshooting category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/troubleshooting.html" class="nav-list-link">Troubleshooting</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/troubleshooting/edit-errors.html" class="nav-list-link">File editing problems</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/warnings.html" class="nav-list-link">Model warnings</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/token-limits.html" class="nav-list-link">Token limits</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/imports.html" class="nav-list-link">Dependency versions</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/llmcode-not-found.html" class="nav-list-link">Llmcode not found</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/models-and-keys.html" class="nav-list-link">Models and API keys</a></li><li class="nav-list-item"><a href="/docs/troubleshooting/support.html" class="nav-list-link">Using /help</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Example chat transcripts category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/examples/README.html" class="nav-list-link">Example chat transcripts</a><ul class="nav-list"><li class="nav-list-item"><a href="/examples/hello-world-flask.html" class="nav-list-link">Create a simple flask app with llmcode</a></li><li class="nav-list-item"><a href="/examples/2048-game.html" class="nav-list-link">Modify an open source 2048 game with llmcode</a></li><li class="nav-list-item"><a href="/examples/complex-change.html" class="nav-list-link">A complex multi-file change, with debugging</a></li><li class="nav-list-item"><a href="/examples/add-test.html" class="nav-list-link">Create a “black box” test case</a></li><li class="nav-list-item"><a href="/examples/update-docs.html" class="nav-list-link">Automatically update docs with llmcode</a></li><li class="nav-list-item"><a href="/examples/pong.html" class="nav-list-link">Build pong with llmcode and pygame.</a></li><li class="nav-list-item"><a href="/examples/css-exercises.html" class="nav-list-link">Complete a css exercise with llmcode</a></li><li class="nav-list-item"><a href="/examples/census.html" class="nav-list-link">Download, analyze and plot US Census data</a></li><li class="nav-list-item"><a href="/examples/asciinema.html" class="nav-list-link">Editing an asciinema cast file with llmcode</a></li><li class="nav-list-item"><a href="/examples/hello.html" class="nav-list-link">Hello llmcode!</a></li><li class="nav-list-item"><a href="/examples/no-color.html" class="nav-list-link">Honor the NO_COLOR environment variable</a></li><li class="nav-list-item"><a href="/examples/chat-transcript-css.html" class="nav-list-link">Improve css styling of chat transcripts</a></li><li class="nav-list-item"><a href="/examples/semantic-search-replace.html" class="nav-list-link">Semantic search &amp; replace code with llmcode</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in More info category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/more-info.html" class="nav-list-link">More info</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/git.html" class="nav-list-link">Git integration</a></li><li class="nav-list-item"><a href="/docs/languages.html" class="nav-list-link">Supported languages</a></li><li class="nav-list-item"><a href="/docs/repomap.html" class="nav-list-link">Repository map</a></li><li class="nav-list-item"><a href="/docs/scripting.html" class="nav-list-link">Scripting llmcode</a></li><li class="nav-list-item"><a href="/docs/more/infinite-output.html" class="nav-list-link">Infinite output</a></li><li class="nav-list-item"><a href="/docs/more/edit-formats.html" class="nav-list-link">Edit formats</a></li><li class="nav-list-item"><a href="/docs/more/analytics.html" class="nav-list-link">Analytics</a></li><li class="nav-list-item"><a href="/docs/legal/privacy.html" class="nav-list-link">Privacy policy</a></li></ul></li><li class="nav-list-item"><a href="/docs/faq.html" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="/HISTORY.html" class="nav-list-link">Release history</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Llmcode LLM Leaderboards category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/leaderboards/" class="nav-list-link">Llmcode LLM Leaderboards</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/leaderboards/edit.html" class="nav-list-link">Code editing leaderboard</a></li><li class="nav-list-item"><a href="/docs/leaderboards/refactor.html" class="nav-list-link">Refactoring leaderboard</a></li><li class="nav-list-item"><a href="/docs/leaderboards/by-release-date.html" class="nav-list-link">Scores by release date</a></li><li class="nav-list-item"><a href="/docs/leaderboards/notes.html" class="nav-list-link">Benchmark notes</a></li><li class="nav-list-item"><a href="/docs/leaderboards/contrib.html" class="nav-list-link">Contributing results</a></li></ul></li><li class="nav-list-item"><a href="/blog/" class="nav-list-link">Llmcode blog</a></li></ul>

  <ul class="nav-list"><li class="nav-list-item external">
          <a href="https://github.com/KhulnaSoft/llmcode" class="nav-list-link external"
            
          >
            GitHub
            <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg>
          </a>
        </li><li class="nav-list-item external">
          <a href="https://discord.gg/Tv2uQnR88V" class="nav-list-link external"
            
          >
            Discord
            <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg>
          </a>
        </li></ul>
</nav>


  
  
    <footer class="site-footer">
    Llmcode is AI pair programming in your terminal.
    Llmcode is on
    <a href="https://github.com/KhulnaSoft/llmcode">GitHub</a>
    and
    <a href="https://discord.gg/Tv2uQnR88V">Discord</a>.
</footer>

  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search llmcode" aria-label="Search llmcode" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/KhulnaSoft/llmcode" class="site-button"
          
        >
          GitHub
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://discord.gg/Tv2uQnR88V" class="site-button"
          
        >
          Discord
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="/blog/" class="site-button"
          
        >
          Blog
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      
      <div id="main-content" class="main-content">
        <main>
          
            <p class="post-date">November 21, 2024</p>
<h1 class="no_toc" id="details-matter-with-open-source-models">
  
  
    <a href="#details-matter-with-open-source-models" class="anchor-heading" aria-labelledby="details-matter-with-open-source-models"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Details matter with open source models
  
  
</h1>
    

<canvas id="quantChart" width="800" height="600" style="margin: 20px 0"></canvas>

<p>Open source models like Qwen 2.5 32B Instruct are performing very well on
llmcode’s code editing benchmark, rivaling closed source frontier models.</p>

<p>But pay attention to how your model is being served and quantized, 
as it can impact code editing skill.
Open source models are often available at a variety of quantizations,
and can be served with different token limits.
These details matter when working with code.</p>

<p>The graph above and table below compares different versions of the Qwen 2.5 Coder 32B Instruct model,
served both locally and from a variety of cloud providers.</p>

<ul>
  <li>The <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-32B-Instruct">HuggingFace BF16 weights</a> served via <a href="https://glhf.chat">glhf.chat</a>.</li>
  <li><a href="https://t.co/cwX3DYX35D">4bit and 8bit quants for mlx</a>.</li>
  <li>The results from <a href="https://openrouter.ai/qwen/qwen-2.5-coder-32b-instruct/providers">OpenRouter’s mix of providers</a> which serve the model with different levels of quantization.</li>
  <li>Results from OpenRouter’s providers, both served via OpenRouter and directly to their own APIs.</li>
  <li>Ollama locally serving different quantizations from the <a href="https://ollama.com/library/qwen2.5-coder:32b-instruct-q4_K_M">Ollama model library</a> with 8k+
context windows.</li>
  <li>An Ollama fp16 quantization served with Ollama’s default 2k context window.</li>
</ul>
<h3 id="pitfalls-and-details">
  
  
    <a href="#pitfalls-and-details" class="anchor-heading" aria-labelledby="pitfalls-and-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pitfalls and details
  
  
</h3>
    

<p>This benchmarking effort highlighted a number of pitfalls and details specific to open source
models which
can have a significant impact on their ability to correctly edit code:</p>

<ul>
  <li><strong>Quantization</strong> – Open source models are often available at dozens of different quantizations.
Most seem to only modestly decrease code editing skill, but stronger quantizations
do have a real impact.</li>
  <li><strong>Context window</strong> – Cloud providers can decide how large a context window to accept,
and they often choose differently. Ollama’s local API server
defaults to a tiny 2k context window,
and silently discards data that exceeds it. Such a small window has
catastrophic effects on performance, without throwing obvious hard errors.</li>
  <li><strong>Output token limits</strong> – Open source models are often served with wildly
differing output token limits. This has a direct impact on how much code the
model can write or edit in a response.</li>
  <li><strong>Buggy cloud providers</strong> – While benchmarking Qwen 2.5 Coder 32B Instruct
and DeepSeek V2.5, I discovered
multiple cloud providers with broken or buggy API endpoints.
They seemed
to be returning results different from expected based on the advertised
quantization and context sizes.
The harm caused to the code editing benchmark varied from serious
to catastrophic.
One provider scored 0.5% on the benchmark with DeepSeek V2.5, a highly capable model.</li>
</ul>

<p>Closed source, proprietary models don’t typically have these issues.
They are owned and operated by the organization that created them,
and typically served with specific, predictable context window and output token limits.
Their quantization level is usually unknown, but fixed and unchanging for all users.</p>
<h3 id="conclusions">
  
  
    <a href="#conclusions" class="anchor-heading" aria-labelledby="conclusions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusions
  
  
</h3>
    

<p>The best versions of the Qwen model rival GPT-4o, while the worst performing
quantization is more like the older GPT-4 Turbo when served competently.
Even an otherwise excellent fp16 quantization falls to GPT-3.5 Turbo levels of performance
if run with Ollama’s default 2k context window.</p>
<h3 class="no_toc" id="sections">
  
  
    <a href="#sections" class="anchor-heading" aria-labelledby="sections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sections
  
  
</h3>
    

<ul id="markdown-toc">
  <li><a href="#pitfalls-and-details" id="markdown-toc-pitfalls-and-details">Pitfalls and details</a></li>
  <li><a href="#conclusions" id="markdown-toc-conclusions">Conclusions</a></li>
  <li><a href="#benchmark-results" id="markdown-toc-benchmark-results">Benchmark results</a></li>
  <li><a href="#setting-ollamas-context-window-size" id="markdown-toc-setting-ollamas-context-window-size">Setting Ollama’s context window size</a></li>
  <li><a href="#choosing-providers-with-openrouter" id="markdown-toc-choosing-providers-with-openrouter">Choosing providers with OpenRouter</a></li>
  <li><a href="#notes" id="markdown-toc-notes">Notes</a></li>
</ul>
<h2 id="benchmark-results">
  
  
    <a href="#benchmark-results" class="anchor-heading" aria-labelledby="benchmark-results"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Benchmark results
  
  
</h2>
    

<p class="note">These are results from single benchmark runs, so expect normal variance of +/- 1-2%.</p>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  var ctx = document.getElementById('quantChart').getContext('2d');
  var allData = [];
  
    allData.push({
      model: 'HuggingFace via GLHF: BF16',
      pass_rate_2: 71.4
    });
  
    allData.push({
      model: 'Ollama: fp16',
      pass_rate_2: 71.4
    });
  
    allData.push({
      model: 'Hyperbolic: BF16',
      pass_rate_2: 69.2
    });
  
    allData.push({
      model: 'mlx-community: 4bit',
      pass_rate_2: 72.2
    });
  
    allData.push({
      model: 'mlx-community: 8bit',
      pass_rate_2: 72.2
    });
  
    allData.push({
      model: 'OpenRouter: multiple',
      pass_rate_2: 67.7
    });
  
    allData.push({
      model: 'Ollama: q4_K_M',
      pass_rate_2: 66.9
    });
  
    allData.push({
      model: 'Deepinfra: BF16',
      pass_rate_2: 72.2
    });
  
    allData.push({
      model: 'Fireworks: unknown',
      pass_rate_2: 72.2
    });
  
    allData.push({
      model: 'Ollama: q2_K',
      pass_rate_2: 61.7
    });
  
    allData.push({
      model: 'Fireworks via OpenRouter: unknown',
      pass_rate_2: 67.7
    });
  
    allData.push({
      model: 'Hyperbolic via OpenRouter: BF16',
      pass_rate_2: 68.4
    });
  
    allData.push({
      model: 'Deepinfra via OpenRouter: BF16',
      pass_rate_2: 69.9
    });
  
    allData.push({
      model: 'Ollama: fp16, 2k ctx',
      pass_rate_2: 51.9
    });
  

  // Sort data by pass_rate_2 in descending order
  allData.sort((a, b) => b.pass_rate_2 - a.pass_rate_2);

  var chart;
  
  function updateChart(filterText) {
    var filteredData = allData.filter(row => 
      row.model.toLowerCase().includes(filterText.toLowerCase())
    );
    
    var chartData = {
      labels: filteredData.map(row => row.model),
      datasets: [{
        label: 'Percent completed correctly',
        data: filteredData.map(row => row.pass_rate_2),
        backgroundColor: 'rgba(54, 162, 235, 0.2)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 1
      }]
    };

    if (chart) {
      chart.data = chartData;
      chart.update();
    } else {
      chart = new Chart(ctx, {
        type: 'bar',
        data: chartData,
        options: {
          plugins: {
            legend: {
              display: false
            },
            title: {
              display: true,
              text: 'Llmcode code editing benchmark',
              font: {
                size: 16
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Percent completed correctly',
                font: {
                  size: 14
                }
              },
              ticks: {
                font: {
                  size: 16
                }
              }
            },
            x: {
              ticks: {
                font: {
                  size: 16
                }
              },
              title: {
                display: true,
                text: 'Provider: quantization',
                font: {
                  size: 14
                }
              }
            }
          }
        }
      });
    }
  }

  // Initial chart render
  updateChart('');

  // Connect search input to chart filtering
  document.getElementById('quantSearchInput').addEventListener('keyup', function() {
    updateChart(this.value);
  });
});

</script>

<p><input type="text" id="quantSearchInput" placeholder="Search..." style="width: 100%; max-width: 800px; margin: 10px auto; padding: 8px; display: block; border: 1px solid #ddd; border-radius: 4px;" /></p>

<div class="table-wrapper"><table style="width: 100%; max-width: 800px; margin: auto; border-collapse: collapse; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-size: 14px;">
  <thead style="background-color: #f2f2f2;">
    <tr>
      <th style="padding: 8px; text-align: left;">Model</th>
      <th style="padding: 8px; text-align: center;">Percent completed correctly</th>
      <th style="padding: 8px; text-align: center;">Percent using correct edit format</th>
      <th style="padding: 8px; text-align: left;">Command</th>
      <th style="padding: 8px; text-align: center;">Edit format</th>
    </tr>
  </thead>
  <tbody>
    
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Fireworks: unknown</td>
        <td style="padding: 8px; text-align: center;">72.2%</td>
        <td style="padding: 8px; text-align: center;">94.0%</td>
        <td style="padding: 8px;"><code>llmcode --model fireworks_ai/accounts/fireworks/models/qwen2p5-coder-32b-instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Deepinfra: BF16</td>
        <td style="padding: 8px; text-align: center;">72.2%</td>
        <td style="padding: 8px; text-align: center;">94.7%</td>
        <td style="padding: 8px;"><code>llmcode --model deepinfra/Qwen/Qwen2.5-Coder-32B-Instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">mlx-community: 8bit</td>
        <td style="padding: 8px; text-align: center;">72.2%</td>
        <td style="padding: 8px; text-align: center;">92.5%</td>
        <td style="padding: 8px;"><code>llmcode --model openai/mlx-community/Qwen2.5-Coder-32B-Instruct-8bit</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">mlx-community: 4bit</td>
        <td style="padding: 8px; text-align: center;">72.2%</td>
        <td style="padding: 8px; text-align: center;">88.7%</td>
        <td style="padding: 8px;"><code>llmcode --model openai/mlx-community/Qwen2.5-Coder-32B-Instruct-4bit</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Ollama: fp16</td>
        <td style="padding: 8px; text-align: center;">71.4%</td>
        <td style="padding: 8px; text-align: center;">90.2%</td>
        <td style="padding: 8px;"><code>llmcode --model ollama/qwen2.5-coder:32b-instruct-fp16</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">HuggingFace via GLHF: BF16</td>
        <td style="padding: 8px; text-align: center;">71.4%</td>
        <td style="padding: 8px; text-align: center;">94.7%</td>
        <td style="padding: 8px;"><code>llmcode --model openai/hf:Qwen/Qwen2.5-Coder-32B-Instruct --openai-api-base https://glhf.chat/api/openai/v1</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Deepinfra via OpenRouter: BF16</td>
        <td style="padding: 8px; text-align: center;">69.9%</td>
        <td style="padding: 8px; text-align: center;">89.5%</td>
        <td style="padding: 8px;"><code>llmcode --model openrouter/qwen/qwen-2.5-coder-32b-instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Hyperbolic: BF16</td>
        <td style="padding: 8px; text-align: center;">69.2%</td>
        <td style="padding: 8px; text-align: center;">91.7%</td>
        <td style="padding: 8px;"><code>llmcode --model openai/Qwen/Qwen2.5-Coder-32B-Instruct --openai-api-base https://api.hyperbolic.xyz/v1/</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Hyperbolic via OpenRouter: BF16</td>
        <td style="padding: 8px; text-align: center;">68.4%</td>
        <td style="padding: 8px; text-align: center;">89.5%</td>
        <td style="padding: 8px;"><code>llmcode --model openrouter/qwen/qwen-2.5-coder-32b-instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Fireworks via OpenRouter: unknown</td>
        <td style="padding: 8px; text-align: center;">67.7%</td>
        <td style="padding: 8px; text-align: center;">94.0%</td>
        <td style="padding: 8px;"><code>llmcode --model openrouter/qwen/qwen-2.5-coder-32b-instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">OpenRouter: multiple</td>
        <td style="padding: 8px; text-align: center;">67.7%</td>
        <td style="padding: 8px; text-align: center;">95.5%</td>
        <td style="padding: 8px;"><code>llmcode --model openrouter/qwen/qwen-2.5-coder-32b-instruct</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Ollama: q4_K_M</td>
        <td style="padding: 8px; text-align: center;">66.9%</td>
        <td style="padding: 8px; text-align: center;">94.0%</td>
        <td style="padding: 8px;"><code>llmcode --model ollama/qwen2.5-coder:32b-instruct-q4_K_M</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Ollama: q2_K</td>
        <td style="padding: 8px; text-align: center;">61.7%</td>
        <td style="padding: 8px; text-align: center;">91.7%</td>
        <td style="padding: 8px;"><code>llmcode --model ollama/qwen2.5-coder:32b-instruct-q2_K</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 8px;">Ollama: fp16, 2k ctx</td>
        <td style="padding: 8px; text-align: center;">51.9%</td>
        <td style="padding: 8px; text-align: center;">46.2%</td>
        <td style="padding: 8px;"><code>llmcode --model ollama/qwen2.5-coder:32b-instruct-fp16 # num_ctx: 2048</code></td>
        <td style="padding: 8px; text-align: center;">diff</td>
      </tr>
    
  </tbody>
</table></div>

<style>
  tr.selected {
    color: #0056b3;
  }
  table {
    table-layout: fixed;
  }
  td, th {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  td:nth-child(3), td:nth-child(4) {
    font-size: 12px;
  }
</style>

<script>
document.getElementById('quantSearchInput').addEventListener('keyup', function() {
    var input = this.value.toLowerCase();
    var rows = document.querySelectorAll('tbody tr');
    
    rows.forEach(function(row) {
        var text = row.textContent.toLowerCase();
        if(text.includes(input)) {
            row.style.display = '';
            row.classList.add('selected');
        } else {
            row.style.display = 'none';
            row.classList.remove('selected');
        }
    });
});
</script>
<h2 id="setting-ollamas-context-window-size">
  
  
    <a href="#setting-ollamas-context-window-size" class="anchor-heading" aria-labelledby="setting-ollamas-context-window-size"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Ollama’s context window size
  
  
</h2>
    

<p><a href="https://github.com/ollama/ollama/blob/main/docs/faq.md#how-can-i-specify-the-context-window-size">Ollama uses a 2k context window by default</a>,
which is very small for working with llmcode.
Unlike most other LLM servers, Ollama does not throw an error if you submit
a request that exceeds the context window.
Instead, it just silently truncates the request by discarding the “oldest” messages
in the chat to make it fit within the context window.</p>

<p>Except for the single 2k context result,
all of the Ollama results above were collected with at least an 8k context window.
An 8k window is large enough to attempt all the coding problems in the benchmark.
Llmcode sets Ollama’s context window to 8k by default, starting in llmcode v0.65.0.</p>

<p>You can change the Ollama server’s context window with a 
<a href="https://llmcode.khulnasoft.com/docs/config/adv-model-settings.html#model-settings"><code class="language-plaintext highlighter-rouge">.llmcode.model.settings.yml</code> file</a>
like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- name: ollama/qwen2.5-coder:32b-instruct-fp16
  extra_params:
    num_ctx: 8192
</code></pre></div></div>
<h2 id="choosing-providers-with-openrouter">
  
  
    <a href="#choosing-providers-with-openrouter" class="anchor-heading" aria-labelledby="choosing-providers-with-openrouter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Choosing providers with OpenRouter
  
  
</h2>
    

<p>OpenRouter allows you to ignore specific providers in your
<a href="https://openrouter.ai/settings/preferences">preferences</a>.
This can be used to limit your OpenRouter requests to be
served by only your preferred providers.</p>
<h2 id="notes">
  
  
    <a href="#notes" class="anchor-heading" aria-labelledby="notes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes
  
  
</h2>
    

<p>This article went through many revisions as I received feedback from
numerous members of the community.
Here are some of the noteworthy learnings and changes:</p>

<ul>
  <li>The first version of this article included incorrect Ollama models.</li>
  <li>Earlier Ollama results used the too small default 2k context window,
artificially harming the benchmark results.</li>
  <li>The benchmark results appear to have uncovered a problem in the way
OpenRouter was communicating with Hyperbolic.
They fixed the issue 11/24/24, shortly after it was pointed out.</li>
</ul>

          

          
        </main>
        


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

